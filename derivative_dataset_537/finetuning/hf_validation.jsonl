{"instruction": "Produce a derivative visualization animation for the function: f(x) = x^4 - 5*x^2 + 4", "input": "x^4 - 5*x^2 + 4", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 15, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**4 - 5*x**2 + 4\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{4} - 5x^{2} + 4\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{4} - 5x^{2} + 4\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 4x^{3} - 5(2x^{1}) + 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4x^{3} - 10x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4*x**3 - 10*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = sqrt(x + 3)", "input": "sqrt(x + 3)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sqrt(x + 3)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.0, 3.5])\n        func_label = MathTex(r\"f(x) = \\sqrt{x + 3}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = (x + 3)^{1/2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[u^n] = nu^{n-1}u'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}(x+3)^{-1/2} \\cdot 1\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1}{2\\sqrt{x+3}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1 / (2 * np.sqrt(x + 3))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = cos(2*x) + 1", "input": "cos(2*x) + 1", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-0.5, 2.5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(2*x) + 1\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\cos(2x) + 1\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\cos(2x) + 1\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[\\cos(u)] = -\\sin(u)u'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(2x) \\cdot 2\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -2\\sin(2x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -2 * np.sin(2*x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = x^3 - x^2 + x", "input": "x^3 - x^2 + x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 20, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 - x**2 + x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} - x^{2} + x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} - x^{2} + x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2} - 2x^{1} + 1\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 3x^{2} - 2x + 1\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 3*x**2 - 2*x + 1\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = e^x/2", "input": "e^x/2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 20, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.exp(x) / 2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{e^x}{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{e^x}{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[ce^x] = ce^x\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{e^x}{2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{e^x}{2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x) / 2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = (x^4 + x^2)/(x^2 + 1)", "input": "(x^4 + x^2)/(x^2 + 1)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 10, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x^4 + x^2}{x^2 + 1}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x^{1}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = ln(x + 1)", "input": "ln(x + 1)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.log(x + 1) if x > -1 else np.nan\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\ln(x + 1)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\ln(x + 1)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\ln(u)] = \\frac{1}{u} u'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{x + 1} \\cdot 1\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1}{x + 1}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1 / (x + 1) if x > -1 else np.nan\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = x^4 + 2*x^2", "input": "x^4 + 2*x^2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 100, 10],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**4 + 2*x**2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{4} + 2x^{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{4} + 2x^{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 4x^{3} + 4x\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4x^{3} + 4x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4*x**3 + 4*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = x^3 + 2*x^2", "input": "x^3 + 2*x^2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 15, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 + 2*x**2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} + 2x^{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} + 2x^{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2} + 2(2x^{1})\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 3x^{2} + 4x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 3*x**2 + 4*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = -2*e^x", "input": "-2*e^x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-70, 5, 10],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return -2 * np.exp(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = -2e^{x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = -2e^{x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[e^x] = e^x\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -2e^{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -2e^{x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -2 * np.exp(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = 0.5*x", "input": "0.5*x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 0.5 * x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 0.5x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 0.5x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[cx] = c\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 0.5\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 0.5\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 0.5\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = e^x - e^(-x)", "input": "e^x - e^(-x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-35, 35, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.exp(x) - np.exp(-x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = e^{x} - e^{-x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = e^{x} - e^{-x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[e^{kx}] = ke^{kx}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = e^{x} - (-e^{-x})\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^{x} + e^{-x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x) + np.exp(-x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = x*sin(2*x)", "input": "x*sin(2*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x * np.sin(2 * x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x \\sin(2x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x \\sin(2x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\sin(2x) + x(2\\cos(2x))\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\sin(2x) + 2x\\cos(2x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.sin(2 * x) + 2 * x * np.cos(2 * x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = ln(x^2 + 2*x + 1)", "input": "ln(x^2 + 2*x + 1)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            # Ensure argument to log is positive, as (x+1)^2 is always non-negative.\n            # For plotting, we can use a small epsilon or handle the domain.\n            # The x_range for plotting and x_tracker avoids x=-1.\n            return np.log(x**2 + 2*x + 1)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\ln(x^2 + 2x + 1)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\ln(x^2 + 2x + 1)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[\\ln(u)] = \\frac{u'}{u}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{2x+2}{x^2+2x+1}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{2}{x+1}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            # Ensure denominator is not zero. x_tracker avoids x=-1.\n            return 2 / (x + 1)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = sqrt(x^2 + 4)", "input": "sqrt(x^2 + 4)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[1.5, 5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sqrt(x**2 + 4)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\sqrt{x^2 + 4}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = (x^2 + 4)^{1/2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}(x^2+4)^{-1/2}(2x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{x}{\\sqrt{x^2+4}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return x / np.sqrt(x**2 + 4)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = ln(x)*sin(x)", "input": "ln(x)*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.log(x) * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5])\n        func_label = MathTex(r\"f(x) = \\ln(x)\\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\ln(x)\\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{\\sin(x)}{x} + \\ln(x)\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{\\sin(x)}{x} + \\ln(x)\\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.sin(x)/x + np.log(x)*np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = x^2*e^x", "input": "x^2*e^x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 35, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 * np.exp(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2}e^{x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2}e^{x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2xe^{x} + x^{2}e^{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2xe^{x} + x^{2}e^{x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x*np.exp(x) + (x**2)*np.exp(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = 3*e^(2*x)", "input": "3*e^(2*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 50, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 3 * np.exp(2 * x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 1.5]) # Adjusted x_range for better visibility of exponential growth\n        func_label = MathTex(r\"f(x) = 3e^{2x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 3e^{2x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[ce^{ax}] = cae^{ax}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3 \\cdot 2 e^{2x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 6e^{2x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 6 * np.exp(2 * x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(1.2), run_time=3, rate_func=smooth) # Adjusted end value for x_tracker to stay within visible y_range\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = x^3 + 1", "input": "x^3 + 1", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-45, 45, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 + 1\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} + 1\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} + 1\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2} + 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 3x^{2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 3*x**2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = x^2 + sin(x)", "input": "x^2 + sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 18, 2],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 + np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2} + \\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2} + \\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Sum Rule: } (u+v)' = u'+v'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x + \\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x + \\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x + np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = x/sin(x)", "input": "x/sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 25, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            # Handle division by zero for sin(x)\n            if np.sin(x) == 0:\n                return np.nan # Return Not-a-Number for asymptotes\n            return x / np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x}{\\sin(x)}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x}{\\sin(x)}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Quotient Rule: } (\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{\\sin(x) - x\\cos(x)}{\\sin^2(x)}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{\\sin(x) - x\\cos(x)}{\\sin^2(x)}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            # Handle division by zero for sin(x)\n            if np.sin(x) == 0:\n                return np.nan\n            return (np.sin(x) - x * np.cos(x)) / (np.sin(x)**2)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = sin(x)*e^x", "input": "sin(x)*e^x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-12, 6, 2],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sin(x) * np.exp(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\sin(x) e^{x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\sin(x) e^{x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\cos(x)e^{x} + \\sin(x)e^{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^{x}(\\cos(x) + \\sin(x))\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.cos(x) * np.exp(x) + np.sin(x) * np.exp(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = -1/x", "input": "-1/x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 10, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return -1/x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = -\\frac{1}{x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = -\\frac{1}{x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = x^{-2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1}{x^2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1/(x**2)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = x^3*cos(x)", "input": "x^3*cos(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-45, 45, 10],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 * np.cos(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} \\cos(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} \\cos(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2}\\cos(x) - x^{3}\\sin(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 3x^{2}\\cos(x) - x^{3}\\sin(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 3 * x**2 * np.cos(x) - x**3 * np.sin(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = x^2 + 2", "input": "x^2 + 2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[0, 20, 2],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 + 2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2} + 2\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2} + 2\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x^{1} + 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = -x^5", "input": "-x^5", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 10, 2],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return -x**5\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-1.5, 1.5]) # Adjusted x_range for plot to fit y_range\n        func_label = MathTex(r\"f(x) = -x^{5}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = -x^{5}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[cx^n] = cnx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -5x^{4}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -5x^{4}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-1) # Adjusted initial x_tracker value to be within plot range\n        \n        # Define derivative function\n        def f_prime(x):\n            return -5*x**4\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-0.8, x_tracker.get_value()+0.8], # Adjusted tangent length\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(1), run_time=3, rate_func=smooth) # Adjusted end x_tracker value\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = x^3*e^(-2*x)", "input": "x^3*e^(-2*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-0.5, 0.2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 * np.exp(-2*x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} e^{-2x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} e^{-2x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2}e^{-2x} - 2x^{3}e^{-2x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = x^{2}e^{-2x}(3 - 2x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return x**2 * np.exp(-2*x) * (3 - 2*x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = tan(e^x)", "input": "tan(e^x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 10, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.tan(np.exp(x))\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\tan(e^{x})\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\tan(e^{x})\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\sec^2(e^{x}) \\cdot e^{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^{x} \\sec^2(e^{x})\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x) * (1 / np.cos(np.exp(x)))**2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = x*ln(sin(x))", "input": "x*ln(sin(x))", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-7, 1, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x * np.log(np.sin(x))\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.0]) # Adjusted x_range for domain\n        func_label = MathTex(r\"f(x) = x \\ln(\\sin(x))\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x \\ln(\\sin(x))\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Prod. Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\ln(\\sin(x)) + x \\frac{\\cos(x)}{\\sin(x)}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\ln(\\sin(x)) + x \\cot(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5) # Adjusted initial x_tracker for domain\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.log(np.sin(x)) + x * (np.cos(x) / np.sin(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-0.5, x_tracker.get_value()+0.5], # Adjusted tangent length\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2.5), run_time=3, rate_func=smooth) # Adjusted end value for domain\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = -2*x", "input": "-2*x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 10, 2],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return -2*x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = -2x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = -2x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[cx] = c\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -2\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -2\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = e^(x/2)*sin(x)", "input": "e^(x/2)*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.exp(x/2) * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = e^{x/2}\\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = e^{x/2}\\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}e^{x/2}\\sin(x) + e^{x/2}\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^{x/2}(\\frac{1}{2}\\sin(x) + \\cos(x))\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x/2) * (0.5 * np.sin(x) + np.cos(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = 3*x^2 + x + 1", "input": "3*x^2 + x + 1", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 55, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 3*x**2 + x + 1\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 3x^{2} + x + 1\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 3x^{2} + x + 1\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3(2x^{1}) + 1 + 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 6x + 1\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 6*x + 1\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = ln(2*x + 1)", "input": "ln(2*x + 1)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.log(2*x + 1) if (2*x + 1) > 0 else np.nan\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-0.45, 3.5])\n        func_label = MathTex(r\"f(x) = \\ln(2x + 1)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\ln(2x + 1)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[\\ln(u)] = \\frac{u'}{u}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2x+1} \\cdot 2\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{2}{2x+1}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-0.4)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2 / (2*x + 1) if (2*x + 1) > 0 else np.nan\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = x^4 - 4*x^2 + 3", "input": "x^4 - 4*x^2 + 3", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**4 - 4*x**2 + 3\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{4} - 4x^{2} + 3\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{4} - 4x^{2} + 3\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 4x^{3} - 4(2)x^{1} + 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4x^{3} - 8x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4*x**3 - 8*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = x*e^x*sin(x)", "input": "x*e^x*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 15, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x * np.exp(x) * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x e^x \\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x e^x \\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Prod. Rule: } (uvw)' = u'vw + uv'w + uvw'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = e^x(\\sin(x) + x\\sin(x) + x\\cos(x))\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^x(\\sin(x) + x\\sin(x) + x\\cos(x))\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x) * (np.sin(x) + x * np.sin(x) + x * np.cos(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = cos(x) - 1", "input": "cos(x) - 1", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2.5, 0.5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(x) - 1\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\cos(x) - 1\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\cos(x) - 1\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\cos(x) - c] = -\\sin(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(x) - 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -\\sin(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.sin(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = 2*x*sin(x)", "input": "2*x*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-4, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 2 * x * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 2x \\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 2x \\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2\\sin(x) + 2x\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2\\sin(x) + 2x\\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2 * np.sin(x) + 2 * x * np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = x^3 + x^2 - 2*x", "input": "x^3 + x^2 - 2*x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-25, 50, 10],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 + x**2 - 2*x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} + x^{2} - 2x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} + x^{2} - 2x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2} + 2x^{1} - 2\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 3x^{2} + 2x - 2\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 3*x**2 + 2*x - 2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = x^2 - 1", "input": "x^2 - 1", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 15, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 - 1\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2} - 1\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2} - 1\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x^{1} - 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = cos(x) + x", "input": "cos(x) + x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(x) + x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\cos(x) + x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\cos(x) + x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Sum Rule: } (u+v)' = u'+v'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(x) + 1\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 1 - \\sin(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.sin(x) + 1\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = e^x*cos(x)", "input": "e^x*cos(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-35, 5, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.exp(x) * np.cos(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = e^{x} \\cos(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = e^{x} \\cos(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = e^x \\cos(x) - e^x \\sin(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^x (\\cos(x) - \\sin(x))\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x) * (np.cos(x) - np.sin(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = x^3/(1 + x^2)", "input": "x^3/(1 + x^2)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-4, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 / (1 + x**2)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x^3}{1 + x^2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x^3}{1 + x^2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"(\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{3x^2(1+x^2) - x^3(2x)}{(1+x^2)^2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{x^2(x^2+3)}{(1+x^2)^2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (x**4 + 3*x**2) / (1 + x**2)**2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = x*e^x", "input": "x*e^x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 20, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x * np.exp(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = xe^{x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = xe^{x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = (1)e^{x} + x(e^{x})\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^{x}(1+x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x) * (1 + x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = 2*x^3 + x", "input": "2*x^3 + x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-25, 25, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 2*x**3 + x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 2x^{3} + x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 2x^{3} + x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[cx^n] = cnx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2(3)x^{2} + 1x^{0}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 6x^{2} + 1\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 6*x**2 + 1\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = sin(x)", "input": "sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\sin(x)] = \\cos(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = x*e^(-2*x)", "input": "x*e^(-2*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-0.5, 0.5, 0.1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x * np.exp(-2 * x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x e^{-2x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x e^{-2x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = e^{-2x} - 2xe^{-2x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^{-2x}(1 - 2x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(-2 * x) * (1 - 2 * x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = ln(x)/x^2", "input": "ln(x)/x^2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 1, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.log(x) / (x**2)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{\\ln(x)}{x^{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{\\ln(x)}{x^{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Quotient Rule: } (u/v)' = (u'v-uv')/v^2\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{x - 2x\\ln(x)}{x^{4}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1 - 2\\ln(x)}{x^{3}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (1 - 2 * np.log(x)) / (x**3)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = x^3/e^x", "input": "x^3/e^x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 / np.exp(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-1, 4])\n        func_label = MathTex(r\"f(x) = \\frac{x^3}{e^x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x^3}{e^x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Quotient Rule: } (\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{3x^2 e^x - x^3 e^x}{(e^x)^2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{x^2(3-x)}{e^x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (x**2 * (3 - x)) / np.exp(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3.5), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = x^4 + 2*x^2 + 1", "input": "x^4 + 2*x^2 + 1", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 180, 20],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**4 + 2*x**2 + 1\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{4} + 2x^{2} + 1\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{4} + 2x^{2} + 1\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 4x^{3} + 2(2x^{1}) + 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4x^{3} + 4x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4*x**3 + 4*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = x^2*sin(2*x)", "input": "x^2*sin(2*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 10, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 * np.sin(2*x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2} \\sin(2x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2} \\sin(2x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x\\sin(2x) + 2x^{2}\\cos(2x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x\\sin(2x) + 2x^{2}\\cos(2x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x*np.sin(2*x) + 2*x**2*np.cos(2*x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
