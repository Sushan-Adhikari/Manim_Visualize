{"instruction": "Generate Manim code to visualize the derivative of: f(x) = cos(4*x)", "input": "cos(4*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(4*x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\cos(4x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\cos(4x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[\\cos(u)] = -\\sin(u)u'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(4x) \\cdot 4\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -4\\sin(4x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -4 * np.sin(4*x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = 1.5*ln(x)", "input": "1.5*ln(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[0, 4, 1],\n            y_range=[-4, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 1.5 * np.log(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5])\n        func_label = MathTex(r\"f(x) = 1.5 \\ln(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 1.5 \\ln(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\ln(x)] = \\frac{1}{x}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 1.5 \\cdot \\frac{1}{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1.5}{x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1.5 / x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[max(0.1, x_tracker.get_value()-1.5), min(3.5, x_tracker.get_value()+1.5)],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = x/e^x", "input": "x/e^x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 1, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x / np.exp(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x}{e^x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x}{e^x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Quotient Rule: } (\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1 \\cdot e^x - x \\cdot e^x}{(e^x)^2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1-x}{e^x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (1 - x) / np.exp(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = e^(-x)", "input": "e^(-x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[0, 10, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.exp(-x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = e^{-x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = e^{-x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[e^{ax}] = ae^{ax}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = (-1)e^{-x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -e^{-x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.exp(-x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = ln(x)/2", "input": "ln(x)/2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 1, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.log(x)/2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{\\ln(x)}{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{1}{2}\\ln(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\ln(x)] = \\frac{1}{x}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2} \\cdot \\frac{1}{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1}{2x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1/(2*x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = -x*sin(x)", "input": "-x*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 1, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return -x * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = -x \\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = -x \\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(x) - x\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -\\sin(x) - x\\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.sin(x) - x * np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = cos(e^x)", "input": "cos(e^x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(np.exp(x))\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\cos(e^x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\cos(e^x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(e^x) \\cdot e^x\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -e^x \\sin(e^x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.exp(x) * np.sin(np.exp(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = x^2 + 5", "input": "x^2 + 5", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[0, 25, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 + 5\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2} + 5\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2} + 5\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x^{1} + 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = sin(0.5*x)", "input": "sin(0.5*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sin(0.5 * x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\sin(0.5x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\sin(0.5x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\cos(0.5x) \\cdot 0.5\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 0.5 \\cos(0.5x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 0.5 * np.cos(0.5 * x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = x^3 - 2*x", "input": "x^3 - 2*x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-6, 6, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 - 2*x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} - 2x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} - 2x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2} - 2\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 3x^{2} - 2\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 3*x**2 - 2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = x^2 + x", "input": "x^2 + x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 15, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 + x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2} + x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2} + x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x^{1} + 1\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x + 1\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x + 1\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = 5*x", "input": "5*x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-20, 20, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 5*x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 5x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 5x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[cx] = c\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 5\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 5\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 5\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = 1/(2*x)", "input": "1/(2*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 1/(2*x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{1}{2x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{1}{2}x^{-1}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}(-1)x^{-2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -\\frac{1}{2x^2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -1/(2*x**2)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = x^3*sin(x)", "input": "x^3*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-20, 20, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} \\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} \\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2}\\sin(x) + x^{3}\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 3x^{2}\\sin(x) + x^{3}\\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 3 * x**2 * np.sin(x) + x**3 * np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = x/2", "input": "x/2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x/2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x}{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x}{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[cx] = c\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1}{2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 0.5\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = 1.5*sin(x)", "input": "1.5*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 1.5 * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 1.5 \\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 1.5 \\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[c \\sin(x)] = c \\cos(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 1.5 \\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 1.5 \\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1.5 * np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = x*e^(-x)*cos(x)", "input": "x*e^(-x)*cos(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 7, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x * np.exp(-x) * np.cos(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x e^{-x} \\cos(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x e^{-x} \\cos(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[uvw] = u'vw + uv'w + uvw'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = e^{-x}(\\cos(x) - x\\cos(x) - x\\sin(x))\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^{-x}(\\cos(x) - x\\cos(x) - x\\sin(x))\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(-x) * (np.cos(x) - x * np.cos(x) - x * np.sin(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = x/(sin(x) + cos(x))", "input": "x/(sin(x) + cos(x))", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            # Handle division by zero for plotting, return NaN\n            denom = np.sin(x) + np.cos(x)\n            if np.isclose(denom, 0):\n                return np.nan\n            return x / (np.sin(x) + np.cos(x))\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x}{\\sin(x) + \\cos(x)}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x}{\\sin x + \\cos x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Quotient Rule: } (\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{(1+x)\\sin x + (1-x)\\cos x}{(\\sin x + \\cos x)^2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{(1+x)\\sin x + (1-x)\\cos x}{(\\sin x + \\cos x)^2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            denom = np.sin(x) + np.cos(x)\n            if np.isclose(denom, 0):\n                return np.nan # Return NaN for undefined derivative\n            \n            # u = x, u' = 1\n            # v = sin(x) + cos(x), v' = cos(x) - sin(x)\n            # (u'v - uv') / v^2\n            return ( (1 + x) * np.sin(x) + (1 - x) * np.cos(x) ) / ( (np.sin(x) + np.cos(x))**2 )\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = (x^3 - x)/(x^2 + 1)", "input": "(x^3 - x)/(x^2 + 1)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return (x**3 - x) / (x**2 + 1)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x^3 - x}{x^2 + 1}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x^3 - x}{x^2 + 1}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Quotient Rule: } (\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{(3x^2-1)(x^2+1) - (x^3-x)(2x)}{(x^2+1)^2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{x^4+4x^2-1}{(x^2+1)^2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (x**4 + 4*x**2 - 1) / ((x**2 + 1)**2)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = cos(ln(x))", "input": "cos(ln(x))", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1.5, 1.5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(np.log(x))\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.01, 3.5])\n        func_label = MathTex(r\"f(x) = \\cos(\\ln(x))\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\cos(\\ln(x))\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.05, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(\\ln(x)) \\cdot \\frac{1}{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -\\frac{\\sin(\\ln(x))}{x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.sin(np.log(x)) / x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[max(0.01, x_tracker.get_value()-1.5), x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = x/3", "input": "x/3", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x/3\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x}{3}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x}{3}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Rule: } \\frac{d}{dx}[cx] = c\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{3}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1}{3}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1/3\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = x^2 - 2*x", "input": "x^2 - 2*x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 10, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 - 2*x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2} - 2x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2} - 2x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x^{1} - 2\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x - 2\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x - 2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = tan(x)", "input": "tan(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-8, 8, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.tan(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\tan(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\tan(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\tan(x)] = \\sec^2(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\sec^2(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\sec^2(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1 / (np.cos(x))**2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = e^(2*x^2)", "input": "e^(2*x^2)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[0, 10, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.exp(2 * x**2)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-1.5, 1.5]) # Adjusted x_range for visibility\n        func_label = MathTex(r\"f(x) = e^{2x^2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = e^{2x^2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[e^u] = e^u u'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = e^{2x^2} \\cdot 4x\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4xe^{2x^2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-0.8) # Adjusted start value for better visibility\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4 * x * np.exp(2 * x**2)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-0.5, x_tracker.get_value()+0.5], # Adjusted range for tangent\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(0.8), run_time=3, rate_func=smooth) # Adjusted end value\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = -x^3 + x", "input": "-x^3 + x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-7, 7, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return -x**3 + x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = -x^{3} + x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = -x^{3} + x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -3x^{2} + 1\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -3x^{2} + 1\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -3*x**2 + 1\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = sqrt(x)*ln(x)", "input": "sqrt(x)*ln(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sqrt(x) * np.log(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5])\n        func_label = MathTex(r\"f(x) = \\sqrt{x} \\ln(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\sqrt{x} \\ln(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2\\sqrt{x}\\ln(x) + \\sqrt{x}\\frac{1}{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{\\ln(x) + 2}{2\\sqrt{x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (np.log(x) + 2) / (2 * np.sqrt(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = tan(x)*x", "input": "tan(x)*x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 10, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            if np.cos(x) == 0: # Handle asymptotes for tan(x)\n                return np.nan\n            return np.tan(x) * x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x \\tan(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x \\tan(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\tan(x) + x \\sec^{2}(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\tan(x) + x \\sec^{2}(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            if np.cos(x) == 0: # Handle asymptotes for tan(x) and sec^2(x)\n                return np.nan\n            return np.tan(x) + x * (1 / np.cos(x))**2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = ln(x^2 + x)", "input": "ln(x^2 + x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[0, 4, 1],\n            y_range=[-3, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.log(x**2 + x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5])\n        func_label = MathTex(r\"f(x) = \\ln(x^{2} + x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\ln(x^{2} + x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\ln(u)] = \\frac{1}{u} \\frac{du}{dx}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{x^{2} + x} \\cdot (2x + 1)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{2x + 1}{x^{2} + x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (2*x + 1) / (x**2 + x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-0.5, x_tracker.get_value()+0.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = 1.5*x^3", "input": "1.5*x^3", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-80, 80, 20],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 1.5 * x**3\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 1.5x^{3}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 1.5x^{3}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 1.5 \\cdot 3x^{2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4.5x^{2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4.5 * x**2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = sqrt(1 + x^2)", "input": "sqrt(1 + x^2)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[0, 5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sqrt(1 + x**2)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\sqrt{1 + x^{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = (1 + x^{2})^{1/2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}(1+x^2)^{-1/2}(2x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{x}{\\sqrt{1+x^{2}}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return x / np.sqrt(1 + x**2)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = x^5", "input": "x^5", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 10, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**5\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{5}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{5}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 5x^{4}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 5x^{4}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 5*x**4\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = -cos(x)", "input": "-cos(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return -np.cos(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = -\\cos(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = -\\cos(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\cos(x)] = -\\sin(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -(-\\sin(x))\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\sin(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.sin(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = cos(x) + 2", "input": "cos(x) + 2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[0, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(x) + 2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\cos(x) + 2\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\cos(x) + 2\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\cos(x) + c] = -\\sin(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(x) + 0\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -\\sin(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.sin(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = sqrt(x) - 1", "input": "sqrt(x) - 1", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-0.5, 4, 1], # Adjusted x_range to start near 0 for sqrt(x)\n            y_range=[-1.5, 1.5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sqrt(x) - 1\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5]) # Adjusted x_range for plotting sqrt(x)\n        func_label = MathTex(r\"f(x) = \\sqrt{x} - 1\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{1/2} - 1\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}x^{-1/2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1}{2\\sqrt{x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5) # Start x_tracker from a positive value\n        \n        # Define derivative function\n        def f_prime(x):\n            return 0.5 * x**(-0.5)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[max(0.1, x_tracker.get_value()-1.5), x_tracker.get_value()+1.5], # Ensure tangent x_range is valid\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3.5), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = x^4 - x^2 - 6", "input": "x^4 - x^2 - 6", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 20, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**4 - x**2 - 6\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{4} - x^{2} - 6\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{4} - x^{2} - 6\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 4x^{3} - 2x\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4x^{3} - 2x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4*x**3 - 2*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = x^4 + 4*x^2 + 4", "input": "x^4 + 4*x^2 + 4", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[0, 250, 50],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**4 + 4*x**2 + 4\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{4} + 4x^{2} + 4\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{4} + 4x^{2} + 4\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 4x^{3} + 8x\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4x^{3} + 8x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4*x**3 + 8*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = x^2*e^x*cos(x)", "input": "x^2*e^x*cos(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-200, 20, 50],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 * np.exp(x) * np.cos(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^2 e^x \\cos(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^2 e^x \\cos(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"(uvw)' = u'vw + uv'w + uvw'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = (2x+x^2)e^x\\cos(x) - x^2e^x\\sin(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = xe^x((2+x)\\cos(x) - x\\sin(x))\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (2*x + x**2) * np.exp(x) * np.cos(x) - x**2 * np.exp(x) * np.sin(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = cos(x)/2", "input": "cos(x)/2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 1, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(x) / 2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{\\cos(x)}{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{\\cos(x)}{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\cos(x)] = -\\sin(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}(-\\sin(x))\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -\\frac{\\sin(x)}{2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.sin(x) / 2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = x^2/(x^2 + 4)", "input": "x^2/(x^2 + 4)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-0.5, 1.5, 0.5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 / (x**2 + 4)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x^2}{x^2 + 4}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x^2}{x^2 + 4}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"(\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{2x(x^2+4) - x^2(2x)}{(x^2+4)^2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{8x}{(x^2 + 4)^2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (8 * x) / ((x**2 + 4)**2)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = ln(x^2 + 1)", "input": "ln(x^2 + 1)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.log(x**2 + 1)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\ln(x^{2} + 1)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\ln(x^{2} + 1)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[\\ln(g(x))] = \\frac{g'(x)}{g(x)}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{2x}{x^{2} + 1}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{2x}{x^{2} + 1}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2 * x / (x**2 + 1)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = x^2*sin(2*x)", "input": "x^2*sin(2*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-15, 15, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 * np.sin(2*x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2} \\sin(2x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{2} \\sin(2x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2x \\sin(2x) + x^{2}(2\\cos(2x))\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 2x \\sin(2x) + 2x^{2} \\cos(2x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 2*x*np.sin(2*x) + 2*(x**2)*np.cos(2*x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = x*sin(x)", "input": "x*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x \\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x \\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\sin(x) + x\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\sin(x) + x\\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.sin(x) + x * np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Construct Manim code that illustrates the derivative of: f(x) = x^3 - 3*x^2 + 2", "input": "x^3 - 3*x^2 + 2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-20, 10, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**3 - 3*x**2 + 2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = x^{3} - 3x^{2} + 2\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{3} - 3x^{2} + 2\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 3x^{2} - 6x\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 3x^{2} - 6x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 3*x**2 - 6*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = x*ln(x)*cos(x)", "input": "x*ln(x)*cos(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 1, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x * np.log(x) * np.cos(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5])\n        func_label = MathTex(r\"f(x) = x \\ln(x) \\cos(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x \\ln(x) \\cos(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (fgh)' = f'gh + fg'h + fgh'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\ln(x)\\cos(x) + \\cos(x) - x\\ln(x)\\sin(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\ln(x)\\cos(x) + \\cos(x) - x\\ln(x)\\sin(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.log(x) * np.cos(x) + np.cos(x) - x * np.log(x) * np.sin(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = cos(3*x)", "input": "cos(3*x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.cos(3*x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\cos(3x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\cos(3x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[\\cos(u)] = -\\sin(u)u'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -\\sin(3x) \\cdot 3\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -3\\sin(3x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -3 * np.sin(3*x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = -x", "input": "-x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-4, 4, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return -x\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = -x\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = -x\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = -1x^{0}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -1\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -1\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = 2*x^4 + x^2", "input": "2*x^4 + x^2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 100, 10],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 2*x**4 + x**2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 2x^{4} + x^{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 2x^{4} + x^{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 2(4x^{3}) + 2x^{1}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 8x^{3} + 2x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 8*x**3 + 2*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = (x^2 - 1)/(x^2 + 1)", "input": "(x^2 - 1)/(x^2 + 1)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-1.5, 1.5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return (x**2 - 1) / (x**2 + 1)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x^2 - 1}{x^2 + 1}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x^2 - 1}{x^2 + 1}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Quotient Rule: } (\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{2x(x^2+1) - 2x(x^2-1)}{(x^2+1)^2}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{4x}{(x^2+1)^2}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (4 * x) / ((x**2 + 1)**2)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Build an animated derivative visualization for: f(x) = 2*x^2*sin(x)", "input": "2*x^2*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-15, 15, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 2 * x**2 * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 2x^{2}\\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 2x^{2}\\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 4x\\sin(x) + 2x^{2}\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 4x\\sin(x) + 2x^{2}\\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 4 * x * np.sin(x) + 2 * x**2 * np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Produce a derivative visualization animation for the function: f(x) = x^2*sqrt(x)*sin(x)", "input": "x^2*sqrt(x)*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 10, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**2 * np.sqrt(x) * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.01, 3.5])\n        func_label = MathTex(r\"f(x) = x^{2}\\sqrt{x}\\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{5/2}\\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{5}{2}x^{3/2}\\sin(x) + x^{5/2}\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{5}{2}x^{3/2}\\sin(x) + x^{5/2}\\cos(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return (5/2) * x**(3/2) * np.sin(x) + x**(5/2) * np.cos(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = ln(sqrt(x))", "input": "ln(sqrt(x))", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[0, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 0.5 * np.log(x) # Simplified form for numerical stability\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.1, 3.5])\n        func_label = MathTex(r\"f(x) = \\ln(\\sqrt{x})\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\ln(\\sqrt{x})\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[\\ln(g(x))] = \\frac{g'(x)}{g(x)}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1/(2\\sqrt{x})}{\\sqrt{x}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{1}{2x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5)\n        \n        # Define derivative function\n        def f_prime(x):\n            return 1 / (2 * x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-0.5, x_tracker.get_value()+0.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = x^5 + x^2", "input": "x^5 + x^2", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-10, 15, 5],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return x**5 + x**2\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-1.5, 1.5]) # Adjusted x_range for better visibility\n        func_label = MathTex(r\"f(x) = x^{5} + x^{2}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = x^{5} + x^{2}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Power Rule: } \\frac{d}{dx}[x^n] = nx^{n-1}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 5x^{4} + 2x^{1}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = 5x^{4} + 2x\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-1) # Adjusted initial x_tracker value\n        \n        # Define derivative function\n        def f_prime(x):\n            return 5*x**4 + 2*x\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-0.8, x_tracker.get_value()+0.8], # Adjusted tangent length\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(1), run_time=3, rate_func=smooth) # Adjusted end x_tracker value\n        self.wait(1)"}
{"instruction": "Write a complete Manim scene that demonstrates the derivative of: f(x) = x^2/sin(x)", "input": "x^2/sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-40, 40, 10],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            # Handle division by zero for sin(x)\n            if np.sin(x) == 0:\n                return np.nan\n            return x**2 / np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\frac{x^2}{\\sin(x)}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\frac{x^2}{\\sin(x)}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Q. Rule: } (\\frac{u}{v})' = \\frac{u'v - uv'}{v^2}\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{2x\\sin(x) - x^2\\cos(x)}{\\sin^2(x)}\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{2x\\sin(x) - x^2\\cos(x)}{\\sin^2(x)}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            # Handle division by zero for sin(x)\n            if np.sin(x) == 0:\n                return np.nan\n            return (2*x * np.sin(x) - x**2 * np.cos(x)) / (np.sin(x))**2\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Develop Manim code showing derivative calculation steps for: f(x) = sqrt(cos(x))", "input": "sqrt(cos(x))", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-0.5, 1.5, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sqrt(np.cos(x))\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-1.5, 1.5])\n        func_label = MathTex(r\"f(x) = \\sqrt{\\cos(x)}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\sqrt{\\cos(x)}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Chain Rule: } \\frac{d}{dx}[f(g)] = f'(g)g'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2\\sqrt{\\cos(x)} (-\\sin(x))\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -\\frac{\\sin(x)}{2\\sqrt{\\cos(x)}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-1.4)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -np.sin(x) / (2 * np.sqrt(np.cos(x)))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(1.4), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = sqrt(e^x)*sin(x)", "input": "sqrt(e^x)*sin(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-3, 3, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sqrt(np.exp(x)) * np.sin(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = \\sqrt{e^x}\\sin(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = e^{x/2}\\sin(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2}e^{x/2}\\sin(x) + e^{x/2}\\cos(x)\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = e^{x/2}(\\cos(x) + \\frac{1}{2}\\sin(x))\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x/2) * (0.5 * np.sin(x) + np.cos(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Create a Manim animation showing the derivative calculation for the function: f(x) = sqrt(x)*e^x", "input": "sqrt(x)*e^x", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-5, 70, 10],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return np.sqrt(x) * np.exp(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[0.01, 3.5]) # Start x_range slightly above 0 for sqrt(x)\n        func_label = MathTex(r\"f(x) = \\sqrt{x} e^{x}\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = \\sqrt{x} e^{x}\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\text{Product Rule: } (uv)' = u'v + uv'\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = \\frac{1}{2\\sqrt{x}e^x + \\sqrt{x}e^x\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = \\frac{e^x(1+2x)}{2\\sqrt{x}\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(0.5) # Start x_tracker slightly above 0\n        \n        # Define derivative function\n        def f_prime(x):\n            return np.exp(x) * (1 + 2*x) / (2*np.sqrt(x))\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-0.5, x_tracker.get_value()+0.5], # Adjust tangent length\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(3), run_time=3, rate_func=smooth)\n        self.wait(1)"}
{"instruction": "Generate Manim code to visualize the derivative of: f(x) = 1.5*cos(x)", "input": "1.5*cos(x)", "output": "from manim import *\nimport numpy as np\n\nclass DerivativeVisualization(Scene):\n    def construct(self):\n        # PART 1: Setup axes and function\n        axes = Axes(\n            x_range=[-4, 4, 1],\n            y_range=[-2, 2, 1],\n            x_length=5.5,\n            y_length=4.5,\n            axis_config={\"color\": GRAY}\n        ).shift(LEFT * 2.5)\n        \n        # Define the function\n        def f(x):\n            return 1.5 * np.cos(x)\n        \n        # Plot the function\n        graph = axes.plot(f, color=BLUE, x_range=[-3.5, 3.5])\n        func_label = MathTex(r\"f(x) = 1.5 \\cos(x)\", color=BLUE, font_size=36).to_corner(UL).shift(DOWN*0.3)\n        \n        # PART 2: CALCULATION STEPS (Right side, no overlap)\n        calc_title = Text(\"Derivative Calculation:\", font_size=20, color=WHITE).to_edge(RIGHT).shift(LEFT*0.2 + UP*3.3)\n        \n        calc_step1 = MathTex(r\"f(x) = 1.5 \\cos(x)\", font_size=22).next_to(calc_title, DOWN, buff=0.3, aligned_edge=LEFT)\n        calc_step2 = MathTex(r\"\\frac{d}{dx}[\\cos(x)] = -\\sin(x)\", font_size=22).next_to(calc_step1, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_step3 = MathTex(r\"f'(x) = 1.5(-\\sin(x))\", font_size=22).next_to(calc_step2, DOWN, buff=0.25, aligned_edge=LEFT)\n        calc_final = MathTex(r\"f'(x) = -1.5 \\sin(x)\", font_size=26, color=YELLOW).next_to(calc_step3, DOWN, buff=0.3, aligned_edge=LEFT)\n        \n        # Ensure all calculation steps fit on screen\n        calc_steps = VGroup(calc_title, calc_step1, calc_step2, calc_step3, calc_final)\n        if calc_steps.width > 3.8:\n            calc_steps.scale_to_fit_width(3.8)\n        \n        # PART 3: Moving elements\n        x_tracker = ValueTracker(-2)\n        \n        # Define derivative function\n        def f_prime(x):\n            return -1.5 * np.sin(x)\n        \n        # Moving dot on curve\n        dot = always_redraw(lambda: Dot(\n            axes.c2p(x_tracker.get_value(), f(x_tracker.get_value())),\n            color=RED,\n            radius=0.08\n        ))\n        \n        # Tangent line\n        tangent = always_redraw(lambda: axes.plot(\n            lambda x: f_prime(x_tracker.get_value()) * (x - x_tracker.get_value()) + f(x_tracker.get_value()),\n            x_range=[x_tracker.get_value()-1.5, x_tracker.get_value()+1.5],\n            color=GREEN\n        ))\n        \n        # Derivative value display - positioned BELOW calculation to avoid overlap\n        deriv_label = always_redraw(lambda: MathTex(\n            r\"f'({:.1f}) = {:.2f}\".format(x_tracker.get_value(), f_prime(x_tracker.get_value())),\n            font_size=30,\n            color=YELLOW\n        ).next_to(calc_steps, DOWN, buff=0.5))\n        \n        # PART 4: Animation sequence\n        self.play(Create(axes), Write(func_label), run_time=1)\n        self.play(Create(graph), run_time=1.5)\n        self.wait(0.5)\n        \n        # Show calculation steps one by one\n        self.play(Write(calc_title), run_time=0.5)\n        self.play(Write(calc_step1), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step2), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_step3), run_time=0.7)\n        self.wait(0.3)\n        self.play(Write(calc_final), run_time=0.8)\n        self.wait(0.5)\n        \n        # Add moving elements\n        self.play(Create(dot), Create(tangent), Write(deriv_label), run_time=1)\n        \n        # Animate movement\n        self.play(x_tracker.animate.set_value(2), run_time=3, rate_func=smooth)\n        self.wait(1)"}
